{"version":3,"sources":["components/header/index.js","components/signin/index.js","screens/login.js","components/pagination/index.js","screens/home.js","utils/privateRoute.js","config/router.js","App.js","reportWebVitals.js","index.js"],"names":["Header","props","console","log","className","StyledSpan","styled","span","StyledForm","form","SigninInput","input","Signin","submit","useState","username","password","formState","setFormState","errorMessage","setErrorMessage","history","useHistory","onSubmit","e","placeholder","onChange","target","value","type","preventDefault","axios","method","url","data","then","res","localStorage","setItem","headers","push","catch","err","Login","useEffect","token","getItem","backgroundColor","pageCreator","pagesNumber","setCurrentPage","pagesElement","i","PagesComponent","onClick","a","PaginationContainer","div","Pagination","total","valueOffset","pages","setPages","numberPages","Math","floor","Home","currentPage","setTotal","topList","setTopList","params","offset","top","map","title","mal_id","PrivateRoute","Component","component","rest","render","to","Routes","exact","path","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.082a8790.chunk.js","sourcesContent":["import React from \"react\";\n\n//import \"./index.css\";\n\nconst Header = (props) => {\n  console.log(\"Header -> props\", props);\n  return (\n    <header className=\"App-header\">\n      <p>Marvel</p>\n    </header>\n  );\n};\n\nexport default Header;\n","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\n\nimport { useHistory } from \"react-router-dom\";\n\nconst Signin = ({ submit }) => {\n  const [formState, setFormState] = useState({ username: \"\", password: \"\" });\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const history = useHistory();\n  return (\n    <StyledForm\n      onSubmit={(e) => submit(e, formState, setErrorMessage, history)}\n    >\n      <StyledSpan>Signin</StyledSpan>\n      <SigninInput\n        placeholder=\"Username\"\n        onChange={(e) =>\n          setFormState({ ...formState, username: e.target.value })\n        }\n        type=\"text\"\n      ></SigninInput>\n      <SigninInput\n        placeholder=\"Password\"\n        onChange={(e) =>\n          setFormState({ ...formState, password: e.target.value })\n        }\n        type=\"password\"\n      ></SigninInput>\n      <StyledSpan>{errorMessage}</StyledSpan>\n      <SigninInput type=\"submit\"></SigninInput>\n    </StyledForm>\n  );\n};\nconst StyledSpan = styled.span`\n  color: green;\n  margin-bottom: 12px;\n`;\n\nconst StyledForm = styled.form`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n`;\nconst SigninInput = styled.input`\n  margin: 6px 0px;\n  border-radius: 12px;\n  border: none;\n  background-color: #222222;\n  height: 30px;\n  color: white;\n  padding: 0px 6px;\n`;\n\nexport default Signin;\n","import React, { useEffect } from \"react\";\nimport axios from \"axios\";\nimport Header from \"../components/header\";\nimport Signin from \"../components/signin\";\n\nconst submit = (e, formState, setErrorMessage, history) => {\n  e.preventDefault();\n  if (!formState.username || !formState.password) {\n    setErrorMessage(\"les champs ne doivent pas Ãªtre vides\");\n    return;\n  }\n  //envoyer le form\n  axios({\n    method: \"POST\",\n    url: \"https://easy-login-api.herokuapp.com/users/login\",\n    data: {\n      username: formState.username,\n      password: formState.password,\n    },\n  })\n    .then((res) => {\n      localStorage.setItem(\"token\", res.headers[\"x-access-token\"]);\n      history.push(\"/home\");\n    })\n    .catch((err) => {\n      setErrorMessage(\"Une erreur est survenue\");\n      console.log(err);\n    });\n};\n\nconst Login = ({ history }) => {\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    console.log(\"Login -> token\", token);\n    if (token) {\n      history.push(\"/\");\n    }\n  }, []);\n  return (\n    <div>\n      <Header backgroundColor=\"green\"> </Header>\n      <Signin submit={submit}></Signin>\n    </div>\n  );\n};\n\nexport default Login;\n","import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\n\nconst pageCreator = (pagesNumber, setCurrentPage) => {\n  let pagesElement = [];\n\n  for (let i = 0; i <= pagesNumber; i++) {\n    pagesElement.push(\n      <PagesComponent onClick={() => setCurrentPage(i)}>{i}</PagesComponent>\n    );\n  }\n  return pagesElement;\n};\nconst Pagination = ({ total, setCurrentPage, valueOffset }) => {\n  const [pages, setPages] = useState(0);\n  useEffect(() => {\n    const numberPages = total / valueOffset;\n    //console.log(\"Pagination -> numberPages\", numberPages);\n    setPages(Math.floor(numberPages));\n  }, [total]);\n  if (total === 0) return null;\n  return (\n    <PaginationContainer>\n      {pageCreator(pages, setCurrentPage)}\n    </PaginationContainer>\n  );\n};\n\nconst PagesComponent = styled.a`\n  margin: 3px 6px;\n  cursor: pointer;\n`;\n\nconst PaginationContainer = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nexport default Pagination;\n","import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n//import md5 from \"md5\";\n//import privateKey from \"../.secret\";\nimport Pagination from \"../components/pagination\";\n\nconst Home = (props) => {\n  const valueOffset = 20;\n  const [currentPage, setCurrentPage] = useState(0);\n  const [total, setTotal] = useState(0);\n  const [topList, setTopList] = useState([]);\n  useEffect(() => {\n    //const publicKey = \"82e4a73948d1fba1c752babfff3bdd36\";\n    //const timeStamp = new Date().getMilliseconds();\n    //const hash = md5(`${timeStamp}${privateKey}${publicKey}`);\n    const generatedUrl = \"https://api.jikan.moe/v3/top/anime\";\n    //const generatedUrl = \"https://gateway.marvel.com/v1/public/characters\";\n    //faire le call api\n    axios({\n      method: \"GET\",\n      url: generatedUrl,\n      params: {\n        // ts: timeStamp,\n        // apikey: publicKey,\n        // hash: hash,\n        offset: valueOffset * currentPage,\n      },\n    })\n      .then((res) => {\n        console.log(\"res\", res);\n        setTopList(res.data.top);\n        setTotal(res.data.data.total);\n      })\n      .catch((err) => {\n        //setErrorMessage(\"Une erreur est survenue\");\n        console.log(err);\n      });\n  }, [currentPage]);\n  return (\n    <div>\n      {topList.map((top) => (\n        <p key={top.mal_id}>{top.title}</p>\n      ))}\n      <Pagination\n        total={total}\n        setCurrentPage={setCurrentPage}\n        valueOffset={valueOffset}\n      ></Pagination>\n    </div>\n  );\n};\n\nexport default Home;\n","import React from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={(props) =>\n        localStorage.getItem(\"token\") ? (\n          <Component {...props} />\n        ) : (\n          <Redirect to=\"/\"></Redirect>\n        )\n      }\n    ></Route>\n  );\n};\n\nexport default PrivateRoute;\n","import React from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\n\nimport Login from \"../screens/login\";\nimport Home from \"../screens/home\";\nimport PrivateRoute from \"../utils/privateRoute\";\n\nconst Routes = () => {\n  return (\n    <Router>\n      <Switch>\n        <Route exact path=\"/\" component={Login} />\n        <PrivateRoute path=\"/home\" component={Home} />\n        <Redirect to=\"/\"></Redirect>\n      </Switch>\n    </Router>\n  );\n};\n\nexport default Routes;\n","// import logo from \"./assets/marvel-logo.png\";\nimport \"./App.css\";\n\nimport Routes from \"./config/router\";\nfunction App() {\n  return (\n    <Routes>\n      <p>Page App</p>\n    </Routes>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}